
        <h1 id="%E5%87%BD%E6%95%B0" class="docs-header-link">
          <span header-link="%E5%87%BD%E6%95%B0"></span>
          函数
        </h1>
      
        <h2 id="%E5%91%BD%E5%90%8D" class="docs-header-link">
          <span header-link="%E5%91%BD%E5%90%8D"></span>
          命名
        </h2>
      <p>函数越短小越好起名字<br>长而具有描述性的名称比短而费解的名称要好<br>当你觉得一个命名更好的时候，就要果决的换掉它
包含动词，表示事情发生<br>见名知意  </p>

        <h2 id="%E5%8F%82%E6%95%B0" class="docs-header-link">
          <span header-link="%E5%8F%82%E6%95%B0"></span>
          参数
        </h2>
      <p>最好的参数是0，大于两个的参数建议改成options  </p>
<ul>
<li>标识参数
向函数传入boolean是骇人听闻的做法，本质就是大声宣布这个函数做的不止一件事情<pre class="language-ts"><code class="language-ts"><div><span class="token keyword">function</span> <span class="token function">xxx</span><span class="token punctuation">(</span>noNeedJump<span class="token punctuation">:</span> <span class="token keyword">boolean</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// xxx</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>noNeedJump<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// xxx</span>
<span class="token punctuation">}</span></div></code></pre>
</li>
<li>二三元函数
除了要知道参数的意思还需知道参数所在的顺序，加大了正确使用的难度<pre class="language-ts"><code class="language-ts"><div><span class="token keyword">function</span> <span class="token function">getPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></div></code></pre>
<pre class="language-ts"><code class="language-ts"><div><span class="token keyword">function</span> <span class="token function">isInteger</span><span class="token punctuation">(</span>max<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> min<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> digits<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> value <span class="token operator">=</span> control<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// 校验传入的数据 是否满足最大、小值，小数位的个数</span>
<span class="token punctuation">}</span></div></code></pre>
</li>
</ul>

        <h2 id="%E4%BD%9C%E7%94%A8" class="docs-header-link">
          <span header-link="%E4%BD%9C%E7%94%A8"></span>
          作用
        </h2>
      <ul>
<li>用于转换
接收参数，输出</li>
<li>改变系统状态
系统：泛指上下文</li>
</ul>

        <h2 id="%E5%86%85%E5%AE%B9" class="docs-header-link">
          <span header-link="%E5%86%85%E5%AE%B9"></span>
          内容
        </h2>
      <ul>
<li>短小
函数的第一规则是短小，第二规则是还要更短小<br>建议函数体不大于20行
什么是短小，是代码行数？发散的来看无重复性的代码行数(有重复就要想办法去做一个复用)</li>
<li>单一职责<br>一个函数只做一件事，做好这件事情<br>结合短小，每个函数依序把你带到下一个函数<br>内部的缩进不应该大于一层或两层，如果出现了多层，那函数想表达的意思就存在多种，这时候就需要拆分成更小的函数，利用return来降低层级，异常或简单逻辑优先原则<pre class="language-ts"><code class="language-ts"><div><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// xxxxx</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// xxxxx</span>
    <span class="token comment" spellcheck="true">// xxxxx</span>
    <span class="token comment" spellcheck="true">// xxxxx</span>
    <span class="token comment" spellcheck="true">// xxxxx</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>
区段：同一代码体的不同代码块，每一块表达一段逻辑  <pre class="language-ts"><code class="language-ts"><div><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// xxxxx</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">// xxxxx</span>
  <span class="token comment" spellcheck="true">// xxxxx</span>
  <span class="token comment" spellcheck="true">// xxxxx</span>
  <span class="token comment" spellcheck="true">// xxxxx</span>
<span class="token punctuation">}</span></div></code></pre>
<blockquote>
<p>结构化编程
函数只应该有一个入口一个出口，循环中不能有 break 和 continue<br>我的理解是极致的单一职责<br>但是在写代码的时候是不太可能做到这种，只要你的函数保持短小，偶尔出现 return 也没关系  </p>
</blockquote>
</li>
<li>无副作用
写类方法和业务函数，大部分无法做到这个程度<br>以后详解函数式编程  </li>
<li>不要在操作类的函数中返回操作的结果<pre class="language-ts"><code class="language-ts"><div><span class="token keyword">function</span> <span class="token function">deleteXxx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token string">'ERROR'</span> <span class="token operator">|</span> <span class="token string">'SUCCESS'</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// xxxxx</span>
  <span class="token keyword">return</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">deleteXxx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'ERROR'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// 如果操作未成功如何</span>
<span class="token punctuation">}</span></div></code></pre>
</li>
<li>错误处理就是一件单独的事  </li>
<li>如果存在大段相同的代码就应该抽出来<br>修改的时候，需要改动每个重复的地方，加大了出错的风险<br>并且，代码的可读性也因为重复的抽离而得到了提升  </li>
<li>每一个函数都要有自己的一个抽象层级<br>这是保证函数短小和只做一件事情的要诀
读代码是自顶向下的，每一层级的函数代码只做自己层级抽象的事情，不要跨级</li>
<li>switch
对于类，利用多态将switch埋藏在底层，上层的抽象都是相同的调用<br>写成配置型的，每次有新的状态只需要增加配置，配置中提供相同的接口，上层的配置调用的代码还是相同的</li>
</ul>

        <h2 id="%E9%87%8D%E5%A4%8D" class="docs-header-link">
          <span header-link="%E9%87%8D%E5%A4%8D"></span>
          重复
        </h2>
      <p>许多原则和实践规则都是为了控制与消除重复而创建的</p>
<ul>
<li>面向对象
将代码集中到基类，避免冗余  </li>
<li>组件化<br>以上也是双刃剑，因为集中和复用<br>所以某个地方想要特殊的处理是改动基类还是继续扩展，考验的是代码设计人员的能力</li>
</ul>

        <h2 id="%E5%A6%82%E4%BD%95%E5%86%99%E5%87%BA%E8%BF%99%E6%A0%B7%E7%9A%84%E5%87%BD%E6%95%B0" class="docs-header-link">
          <span header-link="%E5%A6%82%E4%BD%95%E5%86%99%E5%87%BA%E8%BF%99%E6%A0%B7%E7%9A%84%E5%87%BD%E6%95%B0"></span>
          如何写出这样的函数
        </h2>
      <p>先实现后优化，不要一开始就秉持上面的所有规则去写代码，那样是写不好的<br>只有先写出长函数，才知道怎么去划分层级，拆解小的函数<br>不断按照以上的规则去审视自己的代码，优化，得到的就是好的代码  </p>
